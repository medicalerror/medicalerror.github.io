{"version":3,"file":"static/webpack/static\\development\\pages\\posts\\[slug].js.154321416df63a64252c.hot-update.js","sources":["webpack:///./src/utils/index.js"],"sourcesContent":["import config from '../../next.config';\r\nimport client from '../apis/contentfulClient';\r\n\r\nasync function fetchEntriesForContentType(contentTypeId) {\r\n  const entries = await client.getEntries({\r\n    content_type: contentTypeId,\r\n    'fields.domain[in]': config.env.DOMAIN\r\n  });\r\n  if (entries.items) return entries.items;\r\n  console.log(\r\n    `Error getting Entries with the content type ID ${contentTypeId}.`\r\n  );\r\n}\r\n\r\nexport async function getPosts() {\r\n  return await fetchEntriesForContentType('blogPost');\r\n}\r\n\r\nexport function trimContent(str, maxLength) {\r\n  let trimmedString = str\r\n    .replace(/(\\r\\n|\\n|\\r)/gm, ' ')\r\n    .replace(/ +(?= )/g, '')\r\n    .trim();\r\n\r\n  if (trimmedString.length > maxLength) {\r\n    trimmedString = trimmedString.substr(0, maxLength);\r\n    trimmedString = trimmedString.substr(\r\n      0,\r\n      Math.min(trimmedString.length, trimmedString.lastIndexOf(' '))\r\n    );\r\n  }\r\n\r\n  return trimmedString;\r\n}\r\n\r\nexport function trimDescription(str) {\r\n  return trimContent(str, 300);\r\n}\r\n\r\nexport function getMediaThumbnail(media) {\r\n  console.log('media', media);\r\n  return null;\r\n\r\n  // const thumbnail = media\r\n  //   ? media.find(node => {\r\n  //       const mimeType = node.fields.file.contentType;\r\n  //       const mimeGroup = mimeType.split('/')[0];\r\n\r\n  //       return mimeGroup === 'image';\r\n  //     })\r\n  //   : null;\r\n\r\n  // return thumbnail ? thumbnail.fields.file.url : null;\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AACA;AAFA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAMA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAWA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIA;AACA;AACA;AAIA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;;;A","sourceRoot":""}